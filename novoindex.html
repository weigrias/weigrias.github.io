<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Quiz de Matem√°tica</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- ESSENCIAL -->
  <!-- Metatag do AdSense -->
<meta name="google-adsense-account" content="ca-pub-9976820720188600">

<!-- Snippet do AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9976820720188600"
     crossorigin="anonymous"></script>

<style>
  body {
    font-family: 'Poppins', Arial, sans-serif;
    text-align: center;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    padding: 20px;
  }

  h1 {
    font-size: 36px;
    margin-bottom: 20px;
    font-weight: 700;
  }

  #inicio, #quiz {
    background-color: rgba(255, 255, 255, 0.15);
    padding: 25px;
    border-radius: 14px;
    backdrop-filter: blur(8px);
    display: inline-block;
    width: 90%;        /* largura responsiva */
    max-width: 400px;  /* n√£o fica gigante em telas grandes */
  }

  button {
    display: block;
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    font-size: 16px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.2s;
    background-color: #fff;
    color: #333;
  }

  button:hover {
    transform: scale(1.05);
    background-color: #f1f1f1;
  }

  .correct {
    background-color: #4CAF50 !important;
    color: white !important;
  }

  .wrong {
    background-color: #e53935 !important;
    color: white !important;
  }

  #timerBox {
    margin-top: 10px;
    margin-bottom: 10px;
  }

  #timerNumber {
    font-size: 26px;
    font-weight: bold;
  }

  #timerBarContainer {
    width: 100%;
    height: 12px;
    background-color: #ffffff40;
    border-radius: 6px;
    overflow: hidden;
    margin-top: 5px;
  }

  #timerBar {
    height: 100%;
    width: 100%;
    background-color: #ff5252;
    transition: width 1s linear;
  }

  #progresso {
    height: 18px;
    background-color: #ffffff40;
    border-radius: 10px;
    overflow: hidden;
    margin-bottom: 15px;
  }

  #progresso-bar {
    height: 100%;
    width: 0%;
    background-color: #00e676;
    text-align: center;
    color: #000;
    font-size: 12px;
    font-weight: bold;
    transition: width 0.4s;
  }

  #resultado {
    font-size: 26px;
    margin-top: 20px;
    font-weight: bold;
  }

  /* Ajustes para telas pequenas */
  @media screen and (max-width: 400px) {
    h1 {
      font-size: 28px;
    }

    #timerNumber {
      font-size: 22px;
    }

    button {
      font-size: 14px;
      padding: 10px;
    }

    #resultado {
      font-size: 22px;
    }
  }
</style>
</head>

<body>

<h1>Quiz de Matem√°tica</h1>

<div id="inicio">
  <p><b>Escolha a dificuldade:</b></p>
  <button onclick="startQuiz('facil')">F√°cil</button>
  <button onclick="startQuiz('medio')">M√©dio</button>
  <button onclick="startQuiz('dificil')">Dif√≠cil</button>
</div>

<div id="quiz" style="display:none;">
  <div id="progresso">
    <div id="progresso-bar">0%</div>
  </div>

  <div id="timerBox">
    <div id="timerNumber">7</div>
    <div id="timerBarContainer">
      <div id="timerBar"></div>
    </div>
  </div>

  <p id="pergunta"></p>
  <div id="opcoes"></div>
</div>

<p id="resultado"></p>

<script>
/* ---- Sons ------ */
function beep(freq) {
  const ctx = new AudioContext();
  const osc = ctx.createOscillator();
  const gain = ctx.createGain();
  oscillate(freq, osc, gain, ctx);
}

function oscillate(freq, osc, gain, ctx){
  osc.frequency.value = freq;
  osc.connect(gain);
  gain.connect(ctx.destination);
  osc.start();
  gain.gain.setValueAtTime(0.18, ctx.currentTime);
  gain.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.25);
  osc.stop(ctx.currentTime + 0.25);
}

/* ---- Todas as perguntas ---- */
const questions = {
  facil: [
    { pergunta: "Quanto √© 2 + 7?", opcoes: ["8","9","10","11"], correta: 1 },
    { pergunta: "Quanto √© 5 √ó 3?", opcoes: ["15","12","20","18"], correta: 0 },
    { pergunta: "Quanto √© 12 √∑ 4?", opcoes: ["2","3","4","5"], correta: 1 },
    { pergunta: "Quanto √© 9 - 5?", opcoes: ["3","4","5","6"], correta: 1 },
    { pergunta: "Quanto √© 6 √ó 7?", opcoes: ["40","42","44","46"], correta: 1 },
    { pergunta: "Quanto √© 18 √∑ 3?", opcoes: ["5","6","7","8"], correta: 1 },
    { pergunta: "Quanto √© 14 + 9?", opcoes: ["21","22","23","24"], correta: 2 },
    { pergunta: "Quanto √© 8 √ó 8?", opcoes: ["62","64","66","68"], correta: 1 },
    { pergunta: "Quanto √© 15 - 7?", opcoes: ["6","7","8","9"], correta: 2 },
    { pergunta: "Quanto √© 10 + 5?", opcoes: ["14","15","16","17"], correta: 1 },
    { pergunta: "Quanto √© 4 √ó 9?", opcoes: ["34","35","36","37"], correta: 2 },
    { pergunta: "Quanto √© 20 √∑ 5?", opcoes: ["3","4","5","6"], correta: 2 },
    { pergunta: "Quanto √© 7 + 6?", opcoes: ["12","13","14","15"], correta: 1 },
    { pergunta: "Quanto √© 3 √ó 7?", opcoes: ["20","21","22","23"], correta: 1 },
    { pergunta: "Quanto √© 8 √∑ 2?", opcoes: ["3","4","5","6"], correta: 1 },
    { pergunta: "Quanto √© 9 + 8?", opcoes: ["16","17","18","19"], correta: 1 },
    { pergunta: "Quanto √© 12 - 5?", opcoes: ["6","7","8","9"], correta: 1 },
    { pergunta: "Quanto √© 6 √ó 6?", opcoes: ["34","35","36","37"], correta: 2 },
    { pergunta: "Quanto √© 15 √∑ 3?", opcoes: ["4","5","6","7"], correta: 1 },
    { pergunta: "Quanto √© 11 + 9?", opcoes: ["18","19","20","21"], correta: 2 }
  ],
  medio: [
    { pergunta: "Resolva: x + 5 = 12", opcoes: ["6","7","8","9"], correta: 3 },
    { pergunta: "Resolva: 2x = 14", opcoes: ["6","7","8","9"], correta: 1 },
    { pergunta: "3x + 2 = 11. x = ?", opcoes: ["2","3","4","5"], correta: 1 },
    { pergunta: "Pr√≥ximo da sequ√™ncia: 2, 4, 6, ?", opcoes: ["6","7","8","9"], correta: 2 },
    { pergunta: "5x - 3 = 12. x = ?", opcoes: ["2","3","4","5"], correta: 3 },
    { pergunta: "x/4 = 3. x = ?", opcoes: ["10","12","14","16"], correta: 1 },
    { pergunta: "x + 2 = 9. x = ?", opcoes: ["6","7","8","9"], correta: 2 },
    { pergunta: "3x = 21. x = ?", opcoes: ["5","6","7","8"], correta: 2 },
    { pergunta: "Sequ√™ncia: 2, 4, 8, 16, ?", opcoes: ["30","32","34","36"], correta: 1 },
    { pergunta: "x - 7 = 4. x = ?", opcoes: ["10","11","12","13"], correta: 2 },
    { pergunta: "2x + 5 = 15. x = ?", opcoes: ["4","5","6","7"], correta: 2 },
    { pergunta: "3x - 4 = 11. x = ?", opcoes: ["4","5","6","7"], correta: 3 },
    { pergunta: "x/5 = 3. x = ?", opcoes: ["12","13","14","15"], correta: 3 },
    { pergunta: "4x + 2 = 18. x = ?", opcoes: ["3","4","5","6"], correta: 2 },
    { pergunta: "7 + x = 13. x = ?", opcoes: ["5","6","7","8"], correta: 1 }
  ],
  dificil: [
    { pergunta: "Quanto √© 2^3?", opcoes: ["6","7","8","9"], correta: 2 },
    { pergunta: "3x + 4 = 19. x = ?", opcoes: ["4","5","6","7"], correta: 2 },
    { pergunta: "5x - 7 = 18. x = ?", opcoes: ["4","5","6","7"], correta: 3 },
    { pergunta: "Quanto √© 3^4?", opcoes: ["80","81","82","83"], correta: 1 },
    { pergunta: "2x + 7 = 19. x = ?", opcoes: ["5","6","7","8"], correta: 3 },
    { pergunta: "Se x^2 = 49, x =", opcoes: ["6","7","-7","7 e -7"], correta: 3 },
    { pergunta: "4x - 5 = 15. x = ?", opcoes: ["4","5","6","7"], correta: 3 },
    { pergunta: "Quanto √© 5^3?", opcoes: ["120","125","130","135"], correta: 1 },
    { pergunta: "2x + 3 = 11. x = ?", opcoes: ["3","4","5","6"], correta: 2 },
    { pergunta: "3x - 2 = 13. x = ?", opcoes: ["4","5","6","7"], correta: 3 },
    { pergunta: "x¬≤ = 64. x =", opcoes: ["6","7","8","9"], correta: 2 },
    { pergunta: "6x + 5 = 35. x = ?", opcoes: ["4","5","6","7"], correta: 1 },
    { pergunta: "7x - 9 = 19. x = ?", opcoes: ["3","4","5","6"], correta: 3 },
    { pergunta: "Quanto √© 2^5?", opcoes: ["30","31","32","33"], correta: 2 },
    { pergunta: "3x + 7 = 22. x = ?", opcoes: ["4","5","6","7"], correta: 3 }
  ]
};

/* ------------ VARI√ÅVEIS ------------ */
let current = 0;
let score = 0;
let selectedQuestions = [];
let timerInterval = null;
let timeLeft = 7;

/* ------------ FUN√á√ïES ------------ */
function shuffle(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

function startQuiz(level) {
  selectedQuestions = shuffle([...questions[level]]);
  current = 0;
  score = 0;

  document.getElementById("inicio").style.display = "none";
  document.getElementById("quiz").style.display = "block";
  document.getElementById("resultado").innerHTML = "";

  updateProgress();
  showQuestion();
}

function updateProgress() {
  const pct = Math.round((current / selectedQuestions.length) * 100);
  const bar = document.getElementById("progresso-bar");
  bar.style.width = pct + "%";
  bar.innerText = pct + "%";
}

function startTimer() {
  timeLeft = 7;
  document.getElementById("timerNumber").innerText = timeLeft;
  document.getElementById("timerBar").style.width = (timeLeft / 7 * 100) + "%";

  if (timerInterval) clearInterval(timerInterval);

  timerInterval = setInterval(() => {
    timeLeft--;
    document.getElementById("timerNumber").innerText = timeLeft;
    document.getElementById("timerBar").style.width = (timeLeft / 7 * 100) + "%";

    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      autoFail();
    }
  }, 1000);
}

function autoFail() {
  const buttons = document.querySelectorAll("#opcoes button");
  beep(180);
  buttons.forEach(b => b.disabled = true);
  showCorrectAnswer();
  setTimeout(nextQuestion, 1200);
}

function showCorrectAnswer() {
  const q = selectedQuestions[current];
  const buttons = document.querySelectorAll("#opcoes button");
  buttons[q.correta].classList.add("correct");
}

function showQuestion() {
  beep(550);
  updateProgress();
  startTimer();
  const q = selectedQuestions[current];
  document.getElementById("pergunta").innerText = q.pergunta;
  const div = document.getElementById("opcoes");
  div.innerHTML = "";
  q.opcoes.forEach((op, i) => {
    const btn = document.createElement("button");
    btn.innerText = op;
    btn.onclick = () => checkAnswer(btn, i);
    div.appendChild(btn);
  });
}

function checkAnswer(btn, i) {
  clearInterval(timerInterval);
  const q = selectedQuestions[current];
  const buttons = document.querySelectorAll("#opcoes button");
  buttons.forEach(b => b.disabled = true);
  if (i === q.correta) {
    btn.classList.add("correct");
    beep(700);
    score++;
  } else {
    btn.classList.add("wrong");
    showCorrectAnswer();
    beep(180);
  }
  setTimeout(nextQuestion, 1200);
}

function nextQuestion() {
  current++;
  if (current < selectedQuestions.length) {
    showQuestion();
  } else finishQuiz();
}

function finishQuiz() {
  document.getElementById("quiz").style.display = "none";
  document.getElementById("resultado").innerHTML =
    `üéâ Voc√™ acertou <b>${score}</b> de <b>${selectedQuestions.length}</b> perguntas!`;
  const btn = document.createElement("button");
  btn.innerText = "Reiniciar";
  btn.onclick = () => location.reload();
  document.getElementById("resultado").appendChild(btn);
}
</script>

</body>
</html>


